<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link th:href="@{/css/bootstrap.min.css}"
          href="../css/bootstrap.min.css" rel="stylesheet">
    <title>EarlyBird Admin</title>
</head>
<body>
<h1>EarlyBird Admin - 일정 & 알림 상세 데이터</h1>
<button type="button" th:onclick="|location.href='@{/}'|">홈으로</button><br>
<span th:text="|데이터 업데이트 시간: ${dataLastUpdateAt}|">데이터 업데이트 시간: xxxxx</span>
<form style="display: inline" th:action="@{/refresh}" method="post">
    <button>데이터 새로고침</button>
</form>
<table class="table table-striped table-bordered">
    <tr class="table-dark" style="position: sticky; top:0">
        <th scope="col">no.</th>
        <th scope="col">유저 ID</th>
        <th scope="col">일정 이름</th>
        <th scope="col">알림 전송 성공 횟수</th>
        <th scope="col">알림 전송 실패 횟수</th>
        <th scope="col">대기 중인 알림 개수</th>
        <th scope="col">일정 수정 여부</th>
        <th scope="col">일정 삭제 여부</th>
        <th scope="col">최초 생성 시간</th>
        <th scope="col">최종 업데이트 시간</th>
    </tr>
    <tr th:each="response : ${responseList}">
        <td th:text="${responseStat.count}">1</td>
        <td th:text="${response.clientId}">유저 ID</td>
        <td th:text="${response.appointmentName}">일정 이름</td>
        <td th:text="${response.sendSuccessCount}">알림 전송 성공 횟수</td>
        <td th:text="${response.sendFailCount}">알림 전송 실패 횟수</td>
        <td th:text="${response.sendPendingCount}">대기 중인 알림 개수</td>
        <td th:text="${response.appointmentIsModified}">일정 수정 여부</td>
        <td th:text="${response.appointmentIsDeleted}">일정 삭제 여부</td>
        <td th:text="${response.appointmentCreateTime}">최초 생성일</td>
        <td th:text="${response.appointmentModifyTime}">최종 수정일</td>
    </tr>
    <tr>
        <td colspan="3" style="text-align: center">합계</td>
        <td th:text="${successCount}">전송 성공 합계</td>
        <td th:text="${failedCount}">전송 실패 합계</td>
        <td th:text="${pendingCount}">전송 대기 합계</td>
        <td>일정 수정 합계</td>
        <td>일정 삭제 합계</td>
    </tr>
</table>

<div>
</div>

</body>
</html>